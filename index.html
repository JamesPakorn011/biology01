
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ทดสอบความรู้วิชาชีววิทยา ม.4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Prompt', sans-serif;
            background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
            min-height: 100vh;
        }
        .quiz-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        .option-btn {
            transition: all 0.3s ease;
        }
        .option-btn:hover {
            transform: translateY(-2px);
        }
        .timer-bar {
            transition: width 1s linear;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        .pulse {
            animation: pulse 1.5s infinite;
        }
        .question-image {
            max-height: 200px;
            margin: 0 auto 20px auto;
        }
    </style>
</head>
<body class="p-4">
    <div id="app" class="max-w-4xl mx-auto">
        <!-- Registration Form -->
        <div id="registration" class="quiz-card p-8 mt-10">
            <h1 class="text-3xl font-bold text-center text-blue-800 mb-6">ทดสอบความรู้วิชาชีววิทยา ม.4</h1>
            <h2 class="text-xl text-center text-blue-600 mb-8">เรื่อง ธรรมชาติของสิ่งมีชีวิตและสิ่งแวดล้อม</h2>
            
            <div class="flex justify-center mb-8">
                <svg class="w-48 h-48" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- Biology icon -->
                    <circle cx="100" cy="100" r="90" fill="#e6f7ff" stroke="#3498db" stroke-width="2"/>
                    <g transform="translate(50, 40)">
                        <!-- DNA helix -->
                        <path d="M20,0 C40,25 60,25 80,0 C60,50 40,50 20,100 C40,75 60,75 80,100 C60,50 40,50 20,0" 
                              fill="none" stroke="#3498db" stroke-width="3"/>
                        <!-- Cell -->
                        <circle cx="50" cy="50" r="30" fill="#aed6f1" fill-opacity="0.5" stroke="#3498db" stroke-width="2"/>
                        <circle cx="40" cy="40" r="8" fill="#2980b9"/>
                        <circle cx="65" cy="45" r="5" fill="#2ecc71"/>
                        <circle cx="55" cy="65" r="6" fill="#e74c3c"/>
                    </g>
                </svg>
            </div>
            
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="fullname">
                    ชื่อ-นามสกุล
                </label>
                <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                    id="fullname" type="text" placeholder="กรุณากรอกชื่อ-นามสกุล">
            </div>
            
            <div class="mb-6">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="classroom">
                    ชั้น
                </label>
                <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                    id="classroom" type="text" placeholder="เช่น ม.4/1">
            </div>
            
            <div class="mb-8">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="number">
                    เลขที่
                </label>
                <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
                    id="number" type="number" placeholder="กรุณากรอกเลขที่">
            </div>
            
            <div class="flex items-center justify-center">
                <button id="start-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full focus:outline-none focus:shadow-outline transition-all duration-300 transform hover:scale-105">
                    เริ่มทำแบบทดสอบ
                </button>
            </div>
        </div>

        <!-- Quiz Section -->
        <div id="quiz" class="hidden">
            <div class="flex justify-between items-center mb-4 p-4 quiz-card">
                <div>
                    <p class="font-medium text-blue-800"><span id="player-name"></span></p>
                    <p class="text-sm text-blue-600">ชั้น <span id="player-class"></span> เลขที่ <span id="player-number"></span></p>
                </div>
                <div class="text-right">
                    <p class="font-medium text-blue-800">คะแนน: <span id="score">0</span>/20</p>
                    <p class="text-sm text-blue-600">ข้อที่: <span id="current-question">1</span>/20</p>
                </div>
            </div>

            <div class="quiz-card p-6 mb-4">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-lg font-semibold">เวลาที่เหลือ: <span id="timer">2:00</span></h3>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2.5 mb-6">
                    <div id="timer-bar" class="timer-bar bg-blue-600 h-2.5 rounded-full" style="width: 100%"></div>
                </div>
                
                <div id="question-image" class="flex justify-center mb-6">
                    <!-- Question image will be inserted here -->
                </div>
                
                <h2 id="question-text" class="text-xl font-bold mb-6"></h2>
                
                <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Options will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results" class="hidden quiz-card p-8 mt-10">
            <h2 class="text-2xl font-bold text-center text-blue-800 mb-6">ผลการทดสอบ</h2>
            
            <div class="flex justify-center mb-8">
                <svg id="result-image" class="w-48 h-48" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- Result image will be inserted here -->
                </svg>
            </div>
            
            <div class="bg-blue-50 p-6 rounded-lg mb-6">
                <div class="mb-4">
                    <p class="text-lg font-medium">ชื่อ-นามสกุล: <span id="result-name" class="text-blue-700"></span></p>
                    <p class="text-lg">ชั้น <span id="result-class" class="text-blue-700"></span> เลขที่ <span id="result-number" class="text-blue-700"></span></p>
                </div>
                
                <div class="flex justify-between items-center">
                    <div>
                        <p class="text-lg">คะแนนที่ได้:</p>
                        <p class="text-3xl font-bold text-blue-700"><span id="final-score">0</span> / 20</p>
                    </div>
                    <div id="result-badge" class="text-center p-4 rounded-full w-24 h-24 flex items-center justify-center">
                        <span id="result-text" class="text-xl font-bold"></span>
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <button id="restart-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-full focus:outline-none focus:shadow-outline transition-all duration-300 transform hover:scale-105">
                    เริ่มทำใหม่
                </button>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-8 text-center text-gray-700 p-4">
            <p>จัดทำโดย พ่อเจมส์ มหาวิทยาลัยวัวชน</p>
        </footer>
    </div>

    <script>
        // Quiz data with images
        const quizData = [
            {
                question: "สิ่งมีชีวิตทุกชนิดประกอบด้วยหน่วยพื้นฐานที่เรียกว่าอะไร?",
                options: ["เซลล์", "อะตอม", "โมเลกุล", "อวัยวะ"],
                correctAnswer: 0,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="20" y="20" width="160" height="140" rx="10" fill="#e6f7ff" stroke="#3498db" stroke-width="2"/>
                    <circle cx="100" cy="90" r="50" fill="#aed6f1" stroke="#3498db" stroke-width="2"/>
                    <circle cx="100" cy="90" r="20" fill="#2980b9" stroke="#1c638e" stroke-width="1"/>
                    <circle cx="85" cy="75" r="6" fill="#e74c3c"/>
                    <circle cx="115" cy="85" r="8" fill="#2ecc71"/>
                    <circle cx="90" cy="105" r="5" fill="#f39c12"/>
                    <text x="100" y="170" text-anchor="middle" font-size="12" fill="#3498db">เซลล์ - หน่วยพื้นฐานของสิ่งมีชีวิต</text>
                </svg>`
            },
            {
                question: "การรักษาดุลยภาพภายในร่างกายของสิ่งมีชีวิตเรียกว่าอะไร?",
                options: ["การปรับตัว", "การเจริญเติบโต", "เมแทบอลิซึม", "โฮมีออสเตซิส"],
                correctAnswer: 3,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <circle cx="100" cy="90" r="60" fill="#fff" stroke="#3498db" stroke-width="2"/>
                    <path d="M100,30 Q130,90 100,150 Q70,90 100,30" fill="#ebf5fb" stroke="#3498db" stroke-width="2"/>
                    <circle cx="100" cy="90" r="20" fill="#aed6f1"/>
                    <text x="100" y="170" text-anchor="middle" font-size="12" fill="#3498db">โฮมีออสเตซิส - การรักษาสมดุลในร่างกาย</text>
                </svg>`
            },
            {
                question: "ข้อใดไม่ใช่ลักษณะของสิ่งมีชีวิต?",
                options: ["การสืบพันธุ์", "การเคลื่อนที่", "การตอบสนองต่อสิ่งเร้า", "การนำความร้อน"],
                correctAnswer: 3,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <g transform="translate(40, 40)">
                        <circle cx="60" cy="50" r="40" fill="#aed6f1" stroke="#3498db" stroke-width="2"/>
                        <line x1="30" y1="20" x2="90" y2="80" stroke="#e74c3c" stroke-width="3"/>
                        <line x1="90" y1="20" x2="30" y2="80" stroke="#e74c3c" stroke-width="3"/>
                        <text x="60" y="110" text-anchor="middle" font-size="12" fill="#3498db">ลักษณะที่ไม่ใช่ของสิ่งมีชีวิต</text>
                    </g>
                </svg>`
            },
            {
                question: "ระบบนิเวศประกอบด้วยองค์ประกอบใดบ้าง?",
                options: ["สิ่งมีชีวิตเท่านั้น", "สิ่งไม่มีชีวิตเท่านั้น", "สิ่งมีชีวิตและสิ่งไม่มีชีวิต", "พืชและสัตว์เท่านั้น"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <rect x="20" y="20" width="160" height="120" rx="5" fill="#ebf5fb" stroke="#3498db" stroke-width="1"/>
                    <!-- Sun -->
                    <circle cx="40" cy="40" r="15" fill="#f39c12" stroke="#e67e22" stroke-width="1"/>
                    <line x1="40" y1="20" x2="40" y2="15" stroke="#f39c12" stroke-width="2"/>
                    <line x1="40" y1="65" x2="40" y2="60" stroke="#f39c12" stroke-width="2"/>
                    <line x1="20" y1="40" x2="15" y2="40" stroke="#f39c12" stroke-width="2"/>
                    <line x1="65" y1="40" x2="60" y2="40" stroke="#f39c12" stroke-width="2"/>
                    <line x1="25" y1="25" x2="22" y2="22" stroke="#f39c12" stroke-width="2"/>
                    <line x1="55" y1="55" x2="58" y2="58" stroke="#f39c12" stroke-width="2"/>
                    <line x1="25" y1="55" x2="22" y2="58" stroke="#f39c12" stroke-width="2"/>
                    <line x1="55" y1="25" x2="58" y2="22" stroke="#f39c12" stroke-width="2"/>
                    <!-- Tree -->
                    <rect x="80" y="100" width="10" height="30" fill="#795548"/>
                    <path d="M85,60 L65,100 L105,100 Z" fill="#2ecc71"/>
                    <path d="M85,40 L65,80 L105,80 Z" fill="#2ecc71"/>
                    <!-- Animal -->
                    <circle cx="130" cy="110" r="10" fill="#e74c3c"/>
                    <circle cx="145" cy="110" r="5" fill="#e74c3c"/>
                    <line x1="130" y1="120" x2="125" y2="130" stroke="#e74c3c" stroke-width="2"/>
                    <line x1="130" y1="120" x2="135" y2="130" stroke="#e74c3c" stroke-width="2"/>
                    <line x1="130" y1="120" x2="125" y2="125" stroke="#e74c3c" stroke-width="2"/>
                    <line x1="130" y1="120" x2="135" y2="125" stroke="#e74c3c" stroke-width="2"/>
                    <!-- Water -->
                    <path d="M20,130 Q40,120 60,130 Q80,140 100,130 Q120,120 140,130 Q160,140 180,130 L180,140 L20,140 Z" fill="#3498db"/>
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">ระบบนิเวศ - สิ่งมีชีวิตและสิ่งไม่มีชีวิต</text>
                </svg>`
            },
            {
                question: "สิ่งมีชีวิตที่สร้างอาหารเองได้จัดเป็นกลุ่มใด?",
                options: ["ผู้ผลิต", "ผู้บริโภค", "ผู้ย่อยสลาย", "ผู้ล่า"],
                correctAnswer: 0,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Sun -->
                    <circle cx="50" cy="40" r="20" fill="#f39c12" stroke="#e67e22" stroke-width="1"/>
                    <line x1="50" y1="15" x2="50" y2="5" stroke="#f39c12" stroke-width="2"/>
                    <line x1="50" y1="75" x2="50" y2="65" stroke="#f39c12" stroke-width="2"/>
                    <line x1="25" y1="40" x2="15" y2="40" stroke="#f39c12" stroke-width="2"/>
                    <line x1="85" y1="40" x2="75" y2="40" stroke="#f39c12" stroke-width="2"/>
                    <line x1="32" y1="22" x2="25" y2="15" stroke="#f39c12" stroke-width="2"/>
                    <line x1="68" y1="58" x2="75" y2="65" stroke="#f39c12" stroke-width="2"/>
                    <line x1="32" y1="58" x2="25" y2="65" stroke="#f39c12" stroke-width="2"/>
                    <line x1="68" y1="22" x2="75" y2="15" stroke="#f39c12" stroke-width="2"/>
                    <!-- Tree -->
                    <rect x="120" y="100" width="15" height="40" fill="#795548"/>
                    <circle cx="120" cy="70" r="30" fill="#2ecc71"/>
                    <circle cx="140" cy="60" r="25" fill="#2ecc71"/>
                    <circle cx="150" cy="85" r="20" fill="#2ecc71"/>
                    <!-- Arrows -->
                    <path d="M70,40 Q95,60 120,70" fill="none" stroke="#3498db" stroke-width="2" stroke-dasharray="5,3"/>
                    <polygon points="120,70 112,65 115,75" fill="#3498db"/>
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">ผู้ผลิต - สร้างอาหารเองได้จากแสงอาทิตย์</text>
                </svg>`
            },
            {
                question: "การถ่ายทอดพลังงานในระบบนิเวศเป็นไปตามข้อใด?",
                options: ["วนเป็นวงกลม", "เป็นเส้นตรง", "ทางเดียว", "สองทาง"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Sun -->
                    <circle cx="30" cy="40" r="15" fill="#f39c12"/>
                    <!-- Plant -->
                    <rect x="70" y="80" width="10" height="30" fill="#795548"/>
                    <circle cx="75" cy="60" r="20" fill="#2ecc71"/>
                    <!-- Herbivore -->
                    <circle cx="120" cy="90" r="15" fill="#3498db"/>
                    <!-- Carnivore -->
                    <circle cx="170" cy="90" r="15" fill="#e74c3c"/>
                    <!-- Arrows -->
                    <path d="M45,40 L70,60" fill="none" stroke="black" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <path d="M95,75 L105,90" fill="none" stroke="black" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <path d="M135,90 L155,90" fill="none" stroke="black" stroke-width="2" marker-end="url(#arrowhead)"/>
                    <!-- Arrow definition -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
                        </marker>
                    </defs>
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">การถ่ายทอดพลังงานทางเดียว</text>
                </svg>`
            },
            {
                question: "ความสัมพันธ์แบบใดที่ฝ่ายหนึ่งได้ประโยชน์ อีกฝ่ายเสียประโยชน์?",
                options: ["ภาวะพึ่งพากัน", "ภาวะเกื้อกูล", "ภาวะปรสิต", "ภาวะอิงอาศัย"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Host -->
                    <circle cx="100" cy="90" r="40" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
                    <!-- Parasite -->
                    <circle cx="120" cy="70" r="15" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
                    <!-- Arrow -->
                    <path d="M115,80 L105,90" fill="none" stroke="#c0392b" stroke-width="2" stroke-dasharray="5,3"/>
                    <polygon points="105,90 112,85 110,95" fill="#c0392b"/>
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">ภาวะปรสิต - ฝ่ายหนึ่งได้ประโยชน์ อีกฝ่ายเสียประโยชน์</text>
                </svg>`
            },
            {
                question: "ปัจจัยใดที่กำหนดขนาดของประชากรในระบบนิเวศ?",
                options: ["อัตราการเกิดเท่านั้น", "อัตราการตายเท่านั้น", "อัตราการเกิดและการตาย", "อัตราการอพยพเท่านั้น"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Graph -->
                    <line x1="40" y1="140" x2="160" y2="140" stroke="#333" stroke-width="2"/>
                    <line x1="40" y1="40" x2="40" y2="140" stroke="#333" stroke-width="2"/>
                    <!-- Population curve -->
                    <path d="M40,120 Q70,80 100,60 Q130,40 160,80" fill="none" stroke="#3498db" stroke-width="3"/>
                    <!-- Birth arrow -->
                    <path d="M80,100 L80,70" fill="none" stroke="#2ecc71" stroke-width="2"/>
                    <polygon points="80,70 75,80 85,80" fill="#2ecc71"/>
                    <!-- Death arrow -->
                    <path d="M120,80 L120,110" fill="none" stroke="#e74c3c" stroke-width="2"/>
                    <polygon points="120,110 115,100 125,100" fill="#e74c3c"/>
                    <text x="40" y="30" font-size="10" fill="#333">ประชากร</text>
                    <text x="160" y="155" font-size="10" fill="#333">เวลา</text>
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">อัตราการเกิดและการตาย</text>
                </svg>`
            },
            {
                question: "วัฏจักรคาร์บอนเกี่ยวข้องกับกระบวนการใดมากที่สุด?",
                options: ["การหายใจ", "การสังเคราะห์ด้วยแสง", "ทั้งการหายใจและการสังเคราะห์ด้วยแสง", "การย่อยสลาย"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Carbon cycle -->
                    <circle cx="100" cy="90" r="60" fill="none" stroke="#3498db" stroke-width="2" stroke-dasharray="5,3"/>
                    <!-- CO2 -->
                    <text x="100" y="40" text-anchor="middle" font-size="14" fill="#333">CO₂</text>
                    <!-- Plant -->
                    <rect x="60" y="90" width="10" height="30" fill="#795548"/>
                    <circle cx="65" cy="70" r="20" fill="#2ecc71"/>
                    <!-- Animal -->
                    <circle cx="135" cy="90" r="15" fill="#e74c3c"/>
                    <!-- Arrows -->
                    <path d="M100,50 L75,70" fill="none" stroke="#2ecc71" stroke-width="2"/>
                    <polygon points="75,70 85,65 80,75" fill="#2ecc71"/>
                    <path d="M85,70 L100,50" fill="none" stroke="#e74c3c" stroke-width="2"/>
                    <polygon points="100,50 90,55 95,65" fill="#e74c3c"/>
                    <path d="M120,90 L100,50" fill="none" stroke="#e74c3c" stroke-width="2"/>
                    <polygon points="100,50 105,60 115,55" fill="#e74c3c"/>
                    <text x="60" y="60" font-size="10" fill="#2ecc71">สังเคราะห์แสง</text>
                    <text x="120" y="70" font-size="10" fill="#e74c3c">หายใจ</text>
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">วัฏจักรคาร์บอน</text>
                </svg>`
            },
            {
                question: "สิ่งมีชีวิตที่อาศัยอยู่ในสิ่งแวดล้อมเดียวกันเรียกว่าอะไร?",
                options: ["ประชากร", "กลุ่มสิ่งมีชีวิต", "สังคมสิ่งมีชีวิต", "ระบบนิเวศ"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Environment -->
                    <rect x="30" y="40" width="140" height="100" rx="5" fill="#ebf5fb" stroke="#3498db" stroke-width="1"/>
                    <!-- Trees -->
                    <rect x="50" y="100" width="6" height="20" fill="#795548"/>
                    <circle cx="53" cy="85" r="15" fill="#2ecc71"/>
                    <rect x="80" y="105" width="4" height="15" fill="#795548"/>
                    <circle cx="82" cy="95" r="10" fill="#2ecc71"/>
                    <!-- Animals -->
                    <circle cx="120" cy="110" r="8" fill="#e74c3c"/>
                    <circle cx="140" cy="105" r="6" fill="#e74c3c"/>
                    <circle cx="130" cy="120" r="7" fill="#e74c3c"/>
                    <!-- Birds -->
                    <circle cx="60" cy="60" r="5" fill="#f39c12"/>
                    <circle cx="70" cy="50" r="5" fill="#f39c12"/>
                    <circle cx="80" cy="65" r="5" fill="#f39c12"/>
                    <!-- Insects -->
                    <circle cx="110" cy="80" r="3" fill="#9b59b6"/>
                    <circle cx="120" cy="85" r="3" fill="#9b59b6"/>
                    <circle cx="115" cy="75" r="3" fill="#9b59b6"/>
                    <circle cx="125" cy="70" r="3" fill="#9b59b6"/>
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">สังคมสิ่งมีชีวิต</text>
                </svg>`
            },
            {
                question: "ข้อใดไม่ใช่ปัจจัยทางกายภาพในระบบนิเวศ?",
                options: ["แสง", "อุณหภูมิ", "แบคทีเรีย", "ความชื้น"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Physical factors -->
                    <circle cx="50" cy="50" r="20" fill="#f39c12" stroke="#e67e22" stroke-width="1"/>
                    <text x="50" y="55" text-anchor="middle" font-size="10" fill="white">แสง</text>
                    
                    <path d="M120,40 L130,60 L110,60 Z" fill="#3498db" stroke="#2980b9" stroke-width="1"/>
                    <text x="120" y="55" text-anchor="middle" font-size="10" fill="white">น้ำ</text>
                    
                    <rect x="40" y="100" width="40" height="20" rx="5" fill="#e74c3c" stroke="#c0392b" stroke-width="1"/>
                    <text x="60" y="115" text-anchor="middle" font-size="10" fill="white">อุณหภูมิ</text>
                    
                    <circle cx="120" cy="110" r="15" fill="#9b59b6" stroke="#8e44ad" stroke-width="1"/>
                    <text x="120" y="115" text-anchor="middle" font-size="10" fill="white">แบคทีเรีย</text>
                    <line x1="100" y1="90" x2="140" y2="130" stroke="#e74c3c" stroke-width="3"/>
                    <line x1="140" y1="90" x2="100" y2="130" stroke="#e74c3c" stroke-width="3"/>
                    
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">ปัจจัยทางกายภาพ</text>
                </svg>`
            },
            {
                question: "การเปลี่ยนแปลงแทนที่ (Succession) คืออะไร?",
                options: ["การเปลี่ยนแปลงประชากร", "การเปลี่ยนแปลงสังคมสิ่งมีชีวิตตามลำดับ", "การเปลี่ยนแปลงสภาพอากาศ", "การเปลี่ยนแปลงพันธุกรรม"],
                correctAnswer: 1,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Succession stages -->
                    <rect x="20" y="100" width="160" height="40" fill="#ebf5fb" stroke="#3498db" stroke-width="1"/>
                    
                    <!-- Stage 1: Bare rock -->
                    <rect x="30" y="110" width="20" height="20" fill="#bdc3c7"/>
                    
                    <!-- Stage 2: Lichens -->
                    <rect x="60" y="110" width="20" height="20" fill="#bdc3c7"/>
                    <circle cx="65" cy="115" r="2" fill="#2ecc71"/>
                    <circle cx="70" cy="120" r="2" fill="#2ecc71"/>
                    <circle cx="67" cy="118" r="2" fill="#2ecc71"/>
                    
                    <!-- Stage 3: Small plants -->
                    <rect x="90" y="110" width="20" height="20" fill="#bdc3c7"/>
                    <line x1="95" y1="110" x2="95" y2="105" stroke="#27ae60" stroke-width="1"/>
                    <circle cx="95" cy="103" r="3" fill="#2ecc71"/>
                    <line x1="100" y1="110" x2="100" y2="102" stroke="#27ae60" stroke-width="1"/>
                    <circle cx="100" cy="100" r="3" fill="#2ecc71"/>
                    
                    <!-- Stage 4: Trees -->
                    <rect x="120" y="110" width="20" height="20" fill="#bdc3c7"/>
                    <line x1="125" y1="110" x2="125" y2="90" stroke="#795548" stroke-width="2"/>
                    <circle cx="125" cy="85" r="8" fill="#2ecc71"/>
                    <line x1="135" y1="110" x2="135" y2="95" stroke="#795548" stroke-width="1"/>
                    <circle cx="135" cy="90" r="6" fill="#2ecc71"/>
                    
                    <!-- Stage 5: Forest -->
                    <rect x="150" y="110" width="20" height="20" fill="#bdc3c7"/>
                    <line x1="155" y1="110" x2="155" y2="85" stroke="#795548" stroke-width="2"/>
                    <circle cx="155" cy="80" r="8" fill="#2ecc71"/>
                    <line x1="160" y1="110" x2="160" y2="90" stroke="#795548" stroke-width="2"/>
                    <circle cx="160" cy="85" r="7" fill="#2ecc71"/>
                    <line x1="165" y1="110" x2="165" y2="95" stroke="#795548" stroke-width="1"/>
                    <circle cx="165" cy="90" r="6" fill="#2ecc71"/>
                    
                    <!-- Arrows -->
                    <line x1="50" y1="120" x2="60" y2="120" stroke="#3498db" stroke-width="1"/>
                    <polygon points="60,120 55,117 55,123" fill="#3498db"/>
                    <line x1="80" y1="120" x2="90" y2="120" stroke="#3498db" stroke-width="1"/>
                    <polygon points="90,120 85,117 85,123" fill="#3498db"/>
                    <line x1="110" y1="120" x2="120" y2="120" stroke="#3498db" stroke-width="1"/>
                    <polygon points="120,120 115,117 115,123" fill="#3498db"/>
                    <line x1="140" y1="120" x2="150" y2="120" stroke="#3498db" stroke-width="1"/>
                    <polygon points="150,120 145,117 145,123" fill="#3498db"/>
                    
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">การเปลี่ยนแปลงแทนที่</text>
                </svg>`
            },
            {
                question: "ไบโอมที่มีความหลากหลายทางชีวภาพมากที่สุดคือข้อใด?",
                options: ["ทุนดรา", "ทะเลทราย", "ป่าดิบชื้น", "ทุ่งหญ้า"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Rainforest -->
                    <rect x="30" y="40" width="140" height="100" rx="5" fill="#ebf5fb" stroke="#3498db" stroke-width="1"/>
                    
                    <!-- Trees -->
                    <line x1="50" y1="140" x2="50" y2="90" stroke="#795548" stroke-width="4"/>
                    <circle cx="50" cy="70" r="20" fill="#27ae60"/>
                    
                    <line x1="80" y1="140" x2="80" y2="100" stroke="#795548" stroke-width="3"/>
                    <circle cx="80" cy="85" r="15" fill="#2ecc71"/>
                    
                    <line x1="110" y1="140" x2="110" y2="110" stroke="#795548" stroke-width="2"/>
                    <circle cx="110" cy="100" r="10" fill="#27ae60"/>
                    
                    <line x1="130" y1="140" x2="130" y2="115" stroke="#795548" stroke-width="2"/>
                    <circle cx="130" cy="105" r="12" fill="#2ecc71"/>
                    
                    <!-- Animals -->
                    <circle cx="60" cy="120" r="5" fill="#e74c3c"/>
                    <circle cx="90" cy="110" r="4" fill="#9b59b6"/>
                    <circle cx="120" cy="125" r="3" fill="#f39c12"/>
                    
                    <!-- Birds -->
                    <circle cx="70" cy="60" r="3" fill="#3498db"/>
                    <circle cx="100" cy="80" r="3" fill="#3498db"/>
                    
                    <!-- Insects -->
                    <circle cx="65" cy="90" r="2" fill="#f1c40f"/>
                    <circle cx="85" cy="95" r="2" fill="#f1c40f"/>
                    <circle cx="115" cy="85" r="2" fill="#f1c40f"/>
                    
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">ป่าดิบชื้น - ความหลากหลายทางชีวภาพสูง</text>
                </svg>`
            },
            {
                question: "สิ่งมีชีวิตที่ทำหน้าที่ย่อยสลายซากสิ่งมีชีวิตคือข้อใด?",
                options: ["ผู้ผลิต", "ผู้บริโภคลำดับที่ 1", "ผู้บริโภคลำดับสุดท้าย", "ผู้ย่อยสลาย"],
                correctAnswer: 3,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Soil -->
                    <rect x="30" y="100" width="140" height="40" rx="5" fill="#795548"/>
                    
                    <!-- Dead plant -->
                    <line x1="70" y1="100" x2="70" y2="80" stroke="#8d6e63" stroke-width="2"/>
                    <path d="M60,80 L80,80 L70,60 Z" fill="#a5d6a7" stroke="#81c784" stroke-width="1"/>
                    
                    <!-- Dead animal -->
                    <ellipse cx="120" cy="90" rx="15" ry="10" fill="#e0e0e0" stroke="#bdbdbd" stroke-width="1"/>
                    
                    <!-- Decomposers -->
                    <circle cx="60" cy="110" r="5" fill="#9e9e9e"/>
                    <circle cx="75" cy="115" r="4" fill="#9e9e9e"/>
                    <circle cx="90" cy="110" r="6" fill="#9e9e9e"/>
                    <circle cx="110" cy="115" r="5" fill="#9e9e9e"/>
                    <circle cx="125" cy="110" r="4" fill="#9e9e9e"/>
                    <circle cx="140" cy="115" r="6" fill="#9e9e9e"/>
                    
                    <!-- Arrows -->
                    <path d="M70,90 Q75,100 70,110" fill="none" stroke="#9e9e9e" stroke-width="1" stroke-dasharray="2,1"/>
                    <path d="M120,100 Q125,105 125,110" fill="none" stroke="#9e9e9e" stroke-width="1" stroke-dasharray="2,1"/>
                    
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">ผู้ย่อยสลาย - แบคทีเรียและเห็ดรา</text>
                </svg>`
            },
            {
                question: "ปรากฏการณ์เรือนกระจกเกิดจากก๊าซใดมากที่สุด?",
                options: ["ออกซิเจน", "ไนโตรเจน", "คาร์บอนไดออกไซด์", "ไฮโดรเจน"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Earth -->
                    <circle cx="100" cy="110" r="40" fill="#3498db"/>
                    <path d="M70,95 Q85,85 100,90 Q115,95 130,90" fill="#27ae60"/>
                    <path d="M65,110 Q80,105 95,115 Q110,120 135,110" fill="#27ae60"/>
                    
                    <!-- Atmosphere -->
                    <path d="M50,90 Q100,40 150,90" fill="none" stroke="#bdc3c7" stroke-width="2" stroke-dasharray="3,2"/>
                    
                    <!-- Sun rays -->
                    <line x1="30" y1="30" x2="60" y2="60" stroke="#f39c12" stroke-width="2"/>
                    <line x1="100" y1="20" x2="100" y2="50" stroke="#f39c12" stroke-width="2"/>
                    <line x1="170" y1="30" x2="140" y2="60" stroke="#f39c12" stroke-width="2"/>
                    
                    <!-- Greenhouse gases -->
                    <text x="80" y="70" font-size="10" fill="#e74c3c">CO₂</text>
                    <text x="100" y="60" font-size="10" fill="#e74c3c">CO₂</text>
                    <text x="120" y="70" font-size="10" fill="#e74c3c">CO₂</text>
                    <text x="90" y="80" font-size="10" fill="#e74c3c">CO₂</text>
                    <text x="110" y="80" font-size="10" fill="#e74c3c">CO₂</text>
                    
                    <!-- Trapped heat -->
                    <path d="M70,90 Q100,70 130,90" fill="none" stroke="#e74c3c" stroke-width="1" stroke-dasharray="2,1"/>
                    <path d="M60,100 Q100,80 140,100" fill="none" stroke="#e74c3c" stroke-width="1" stroke-dasharray="2,1"/>
                    
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">ปรากฏการณ์เรือนกระจก - CO₂</text>
                </svg>`
            },
            {
                question: "การอนุรักษ์ความหลากหลายทางชีวภาพมีความสำคัญอย่างไร?",
                options: ["เพื่อความสวยงามเท่านั้น", "เพื่อรักษาสมดุลของระบบนิเวศ", "เพื่อการท่องเที่ยว", "เพื่อการศึกษาเท่านั้น"],
                correctAnswer: 1,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Earth -->
                    <circle cx="100" cy="90" r="50" fill="#3498db"/>
                    
                    <!-- Continents -->
                    <path d="M70,50 Q90,60 85,80 Q75,90 90,110 Q100,120 120,110 Q130,90 120,70 Q110,60 120,50 Q100,40 70,50" fill="#27ae60"/>
                    
                    <!-- Biodiversity -->
                    <!-- Trees -->
                    <line x1="80" y1="70" x2="80" y2="60" stroke="#795548" stroke-width="2"/>
                    <circle cx="80" cy="55" r="5" fill="#2ecc71"/>
                    
                    <line x1="110" y1="100" x2="110" y2="90" stroke="#795548" stroke-width="2"/>
                    <circle cx="110" cy="85" r="5" fill="#2ecc71"/>
                    
                    <!-- Animals -->
                    <circle cx="90" cy="90" r="3" fill="#e74c3c"/>
                    <circle cx="120" cy="70" r="3" fill="#9b59b6"/>
                    
                    <!-- Protection symbol -->
                    <circle cx="100" cy="90" r="60" fill="none" stroke="#2ecc71" stroke-width="2" stroke-dasharray="5,3"/>
                    
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">การอนุรักษ์ความหลากหลายทางชีวภาพ</text>
                </svg>`
            },
            {
                question: "ข้อใดไม่ใช่ลักษณะของประชากร?",
                options: ["ความหนาแน่น", "การกระจาย", "อัตราการเกิด", "การสังเคราะห์ด้วยแสง"],
                correctAnswer: 3,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Population characteristics -->
                    <rect x="30" y="40" width="40" height="40" rx="5" fill="#ebf5fb" stroke="#3498db" stroke-width="1"/>
                    <circle cx="40" cy="50" r="3" fill="#3498db"/>
                    <circle cx="50" cy="60" r="3" fill="#3498db"/>
                    <circle cx="45" cy="70" r="3" fill="#3498db"/>
                    <circle cx="60" cy="50" r="3" fill="#3498db"/>
                    <text x="50" y="90" text-anchor="middle" font-size="10" fill="#3498db">ความหนาแน่น</text>
                    
                    <rect x="80" y="40" width="40" height="40" rx="5" fill="#ebf5fb" stroke="#3498db" stroke-width="1"/>
                    <circle cx="85" cy="45" r="3" fill="#3498db"/>
                    <circle cx="115" cy="45" r="3" fill="#3498db"/>
                    <circle cx="85" cy="75" r="3" fill="#3498db"/>
                    <circle cx="115" cy="75" r="3" fill="#3498db"/>
                    <text x="100" y="90" text-anchor="middle" font-size="10" fill="#3498db">การกระจาย</text>
                    
                    <rect x="130" y="40" width="40" height="40" rx="5" fill="#ebf5fb" stroke="#3498db" stroke-width="1"/>
                    <circle cx="140" cy="60" r="3" fill="#3498db"/>
                    <circle cx="150" cy="60" r="3" fill="#3498db"/>
                    <circle cx="145" cy="50" r="2" fill="#3498db"/>
                    <text x="150" y="90" text-anchor="middle" font-size="10" fill="#3498db">อัตราการเกิด</text>
                    
                    <rect x="80" y="100" width="40" height="40" rx="5" fill="#ebf5fb" stroke="#3498db" stroke-width="1"/>
                    <line x1="85" y1="120" x2="85" y2="110" stroke="#27ae60" stroke-width="2"/>
                    <circle cx="85" cy="105" r="5" fill="#2ecc71"/>
                    <line x1="100" y1="140" x2="100" y2="130" stroke="#f39c12" stroke-width="2"/>
                    <text x="100" y="150" text-anchor="middle" font-size="10" fill="#3498db">การสังเคราะห์แสง</text>
                    <line x1="70" y1="90" x2="110" y2="130" stroke="#e74c3c" stroke-width="3"/>
                    <line x1="110" y1="90" x2="70" y2="130" stroke="#e74c3c" stroke-width="3"/>
                </svg>`
            },
            {
                question: "ปัจจัยจำกัด (Limiting Factor) คืออะไร?",
                options: ["ปัจจัยที่มีมากเกินไป", "ปัจจัยที่มีน้อยเกินไป", "ปัจจัยที่จำกัดการเจริญเติบโตของสิ่งมีชีวิต", "ปัจจัยที่ไม่มีผลต่อสิ่งมีชีวิต"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Barrel diagram -->
                    <path d="M60,40 L140,40 L140,120 L60,120 Z" fill="none" stroke="#3498db" stroke-width="2"/>
                    <path d="M60,40 Q100,30 140,40" fill="none" stroke="#3498db" stroke-width="2"/>
                    <path d="M60,120 Q100,130 140,120" fill="none" stroke="#3498db" stroke-width="2"/>
                    
                    <!-- Water level -->
                    <path d="M60,90 L140,90" fill="none" stroke="#3498db" stroke-width="2" stroke-dasharray="5,3"/>
                    <path d="M60,90 Q100,95 140,90" fill="#3498db" fill-opacity="0.3"/>
                    <path d="M60,90 Q100,95 140,90 L140,120 Q100,130 60,120 Z" fill="#3498db" fill-opacity="0.3"/>
                    
                    <!-- Barrel staves -->
                    <line x1="70" y1="40" x2="70" y2="120" stroke="#3498db" stroke-width="2"/>
                    <line x1="85" y1="40" x2="85" y2="120" stroke="#3498db" stroke-width="2"/>
                    <line x1="100" y1="40" x2="100" y2="120" stroke="#3498db" stroke-width="2"/>
                    <line x1="115" y1="40" x2="115" y2="120" stroke="#3498db" stroke-width="2"/>
                    <line x1="130" y1="40" x2="130" y2="120" stroke="#3498db" stroke-width="2"/>
                    
                    <!-- Limiting factor -->
                    <line x1="85" y1="40" x2="85" y2="60" stroke="#e74c3c" stroke-width="4"/>
                    <text x="85" y="35" text-anchor="middle" font-size="10" fill="#e74c3c">ปัจจัยจำกัด</text>
                    
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">ปัจจัยจำกัด - กฎของลีบิก</text>
                </svg>`
            },
            {
                question: "ความสัมพันธ์ระหว่างผึ้งกับดอกไม้จัดเป็นความสัมพันธ์แบบใด?",
                options: ["ภาวะปรสิต", "ภาวะล่าเหยื่อ", "ภาวะพึ่งพากัน", "ภาวะแข่งขัน"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Flower -->
                    <circle cx="70" cy="90" r="20" fill="#e74c3c"/>
                    <circle cx="70" cy="90" r="10" fill="#f39c12"/>
                    <ellipse cx="50" cy="80" rx="10" ry="5" fill="#e74c3c"/>
                    <ellipse cx="90" cy="80" rx="10" ry="5" fill="#e74c3c"/>
                    <ellipse cx="50" cy="100" rx="10" ry="5" fill="#e74c3c"/>
                    <ellipse cx="90" cy="100" rx="10" ry="5" fill="#e74c3c"/>
                    <line x1="70" y1="110" x2="70" y2="130" stroke="#27ae60" stroke-width="2"/>
                    
                    <!-- Bee -->
                    <ellipse cx="130" cy="90" rx="15" ry="10" fill="#f1c40f"/>
                    <path d="M130,90 Q140,85 150,90" fill="none" stroke="#f1c40f" stroke-width="2"/>
                    <ellipse cx="150" cy="90" rx="5" ry="3" fill="#f1c40f"/>
                    <path d="M115,90 L125,85 M115,90 L125,95" stroke="black" stroke-width="1"/>
                    <ellipse cx="135" cy="85" rx="3" ry="2" fill="black"/>
                    <ellipse cx="135" cy="95" rx="3" ry="2" fill="black"/>
                    
                    <!-- Relationship -->
                    <path d="M90,90 L115,90" fill="none" stroke="#3498db" stroke-width="2"/>
                    <polygon points="115,90 105,85 105,95" fill="#3498db"/>
                    <path d="M115,80 L90,80" fill="none" stroke="#3498db" stroke-width="2"/>
                    <polygon points="90,80 100,75 100,85" fill="#3498db"/>
                    
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">ภาวะพึ่งพากัน - ผึ้งและดอกไม้</text>
                </svg>`
            },
            {
                question: "ข้อใดไม่ใช่ผลกระทบจากมลพิษทางน้ำ?",
                options: ["ปรากฏการณ์ยูโทรฟิเคชัน", "การลดลงของออกซิเจนในน้ำ", "การเพิ่มขึ้นของโอโซนในชั้นบรรยากาศ", "การตายของสัตว์น้ำ"],
                correctAnswer: 2,
                image: `<svg class="question-image" width="200" height="180" viewBox="0 0 200 180" xmlns="http://www.w3.org/2000/svg">
                    <rect x="10" y="10" width="180" height="160" rx="5" fill="#f8f9fa"/>
                    <!-- Water pollution -->
                    <path d="M30,80 Q60,70 90,80 Q120,90 150,80 Q180,70 180,80 L180,130 L30,130 Z" fill="#3498db" fill-opacity="0.5"/>
                    
                    <!-- Factory -->
                    <rect x="40" y="40" width="30" height="40" fill="#95a5a6"/>
                    <rect x="50" y="20" width="10" height="20" fill="#7f8c8d"/>
                    <path d="M50,20 L40,40 L60,40 Z" fill="#7f8c8d"/>
                    
                    <!-- Pollution -->
                    <path d="M55,30 Q60,25 65,30" fill="none" stroke="#7f8c8d" stroke-width="1"/>
                    <path d="M55,25 Q60,20 65,25" fill="none" stroke="#7f8c8d" stroke-width="1"/>
                    
                    <path d="M60,80 L60,60" fill="none" stroke="#7f8c8d" stroke-width="3"/>
                    <path d="M60,80 Q70,85 80,80" fill="#7f8c8d" fill-opacity="0.5"/>
                    <path d="M80,80 Q90,85 100,80" fill="#7f8c8d" fill-opacity="0.3"/>
                    
                    <!-- Dead fish -->
                    <path d="M120,110 Q130,105 140,110" fill="#bdc3c7"/>
                    <path d="M140,110 L145,115 L140,120 Z" fill="#bdc3c7"/>
                    <circle cx="125" cy="108" r="2" fill="black"/>
                    <line x1="120" y1="110" x2="115" y2="105" stroke="#bdc3c7" stroke-width="2"/>
                    <line x1="120" y1="110" x2="115" y2="115" stroke="#bdc3c7" stroke-width="2"/>
                    
                    <!-- Ozone layer -->
                    <path d="M100,40 Q130,30 160,40" fill="none" stroke="#3498db" stroke-width="2" stroke-dasharray="5,3"/>
                    <text x="130" y="35" text-anchor="middle" font-size="10" fill="#3498db">O₃</text>
                    <line x1="110" y1="20" x2="150" y2="60" stroke="#e74c3c" stroke-width="3"/>
                    <line x1="150" y1="20" x2="110" y2="60" stroke="#e74c3c" stroke-width="3"/>
                    
                    <text x="100" y="160" text-anchor="middle" font-size="12" fill="#3498db">มลพิษทางน้ำ</text>
                </svg>`
            }
        ];

        // Variables
        let currentQuestion = 0;
        let score = 0;
        let timer;
        let timeLeft = 120; // 2 minutes in seconds
        let playerData = {};

        // DOM Elements
        const registrationSection = document.getElementById('registration');
        const quizSection = document.getElementById('quiz');
        const resultsSection = document.getElementById('results');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionText = document.getElementById('question-text');
        const questionImage = document.getElementById('question-image');
        const optionsContainer = document.getElementById('options-container');
        const timerElement = document.getElementById('timer');
        const timerBar = document.getElementById('timer-bar');
        const currentQuestionElement = document.getElementById('current-question');
        const scoreElement = document.getElementById('score');
        const finalScoreElement = document.getElementById('final-score');
        const resultImage = document.getElementById('result-image');

        // Event Listeners
        startBtn.addEventListener('click', startQuiz);
        restartBtn.addEventListener('click', restartQuiz);

        // Functions
        function startQuiz() {
            // Get player data
            const fullname = document.getElementById('fullname').value.trim();
            const classroom = document.getElementById('classroom').value.trim();
            const number = document.getElementById('number').value.trim();
            
            // Validate inputs
            if (!fullname || !classroom || !number) {
                alert('กรุณากรอกข้อมูลให้ครบถ้วน');
                return;
            }
            
            // Save player data
            playerData = {
                fullname,
                classroom,
                number
            };
            
            // Display player info
            document.getElementById('player-name').textContent = fullname;
            document.getElementById('player-class').textContent = classroom;
            document.getElementById('player-number').textContent = number;
            
            // Hide registration, show quiz
            registrationSection.classList.add('hidden');
            quizSection.classList.remove('hidden');
            
            // Start the quiz
            loadQuestion();
        }

        function loadQuestion() {
            // Reset timer
            clearInterval(timer);
            timeLeft = 120;
            updateTimer();
            timerBar.style.width = '100%';
            
            // Start timer
            startTimer();
            
            // Update question number
            currentQuestionElement.textContent = currentQuestion + 1;
            
            // Load question and options
            const currentQuizData = quizData[currentQuestion];
            questionText.textContent = `${currentQuestion + 1}. ${currentQuizData.question}`;
            
            // Load question image
            questionImage.innerHTML = currentQuizData.image;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Add options
            currentQuizData.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn bg-white hover:bg-blue-50 border border-gray-300 text-gray-800 font-medium py-3 px-4 rounded-lg text-left transition-all duration-200';
                button.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                button.addEventListener('click', () => selectAnswer(index));
                optionsContainer.appendChild(button);
            });
        }

        function selectAnswer(selectedIndex) {
            // Check if answer is correct
            const currentQuizData = quizData[currentQuestion];
            if (selectedIndex === currentQuizData.correctAnswer) {
                score++;
                scoreElement.textContent = score;
            }
            
            // Move to next question or end quiz
            currentQuestion++;
            if (currentQuestion < quizData.length) {
                loadQuestion();
            } else {
                endQuiz();
            }
        }

        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                // Update timer bar
                const percentage = (timeLeft / 120) * 100;
                timerBar.style.width = `${percentage}%`;
                
                // Change color based on time left
                if (timeLeft <= 30) {
                    timerBar.classList.remove('bg-blue-600');
                    timerBar.classList.add('bg-red-600');
                    timerBar.classList.add('pulse');
                } else {
                    timerBar.classList.remove('bg-red-600');
                    timerBar.classList.remove('pulse');
                    timerBar.classList.add('bg-blue-600');
                }
                
                // Time's up
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    // Move to next question or end quiz
                    currentQuestion++;
                    if (currentQuestion < quizData.length) {
                        loadQuestion();
                    } else {
                        endQuiz();
                    }
                }
            }, 1000);
        }

        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        }

        function endQuiz() {
            // Clear timer
            clearInterval(timer);
            
            // Hide quiz, show results
            quizSection.classList.add('hidden');
            resultsSection.classList.remove('hidden');
            
            // Display results
            document.getElementById('result-name').textContent = playerData.fullname;
            document.getElementById('result-class').textContent = playerData.classroom;
            document.getElementById('result-number').textContent = playerData.number;
            finalScoreElement.textContent = score;
            
            // Display result badge
            const resultBadge = document.getElementById('result-badge');
            const resultText = document.getElementById('result-text');
            
            // Set result image based on score
            if (score >= 16) { // 80% or higher
                resultBadge.className = 'text-center p-4 rounded-full w-24 h-24 flex items-center justify-center bg-green-100 text-green-800';
                resultText.textContent = 'ดีเยี่ยม';
                resultImage.innerHTML = `
                    <circle cx="100" cy="100" r="90" fill="#d4edda" stroke="#28a745" stroke-width="3"/>
                    <path d="M70,100 L90,120 L130,80" fill="none" stroke="#28a745" stroke-width="10" stroke-linecap="round" stroke-linejoin="round"/>
                    <text x="100" y="160" text-anchor="middle" font-size="24" fill="#28a745" font-weight="bold">ดีเยี่ยม!</text>
                `;
            } else if (score >= 10) { // 50% or higher
                resultBadge.className = 'text-center p-4 rounded-full w-24 h-24 flex items-center justify-center bg-yellow-100 text-yellow-800';
                resultText.textContent = 'ผ่าน';
                resultImage.innerHTML = `
                    <circle cx="100" cy="100" r="90" fill="#fff3cd" stroke="#ffc107" stroke-width="3"/>
                    <text x="100" y="90" text-anchor="middle" font-size="80" fill="#ffc107">✓</text>
                    <text x="100" y="160" text-anchor="middle" font-size="24" fill="#ffc107" font-weight="bold">ผ่าน</text>
                `;
            } else {
                resultBadge.className = 'text-center p-4 rounded-full w-24 h-24 flex items-center justify-center bg-red-100 text-red-800';
                resultText.textContent = 'ไม่ผ่าน';
                resultImage.innerHTML = `
                    <circle cx="100" cy="100" r="90" fill="#f8d7da" stroke="#dc3545" stroke-width="3"/>
                    <line x1="70" y1="70" x2="130" y2="130" stroke="#dc3545" stroke-width="10" stroke-linecap="round"/>
                    <line x1="130" y1="70" x2="70" y2="130" stroke="#dc3545" stroke-width="10" stroke-linecap="round"/>
                    <text x="100" y="160" text-anchor="middle" font-size="24" fill="#dc3545" font-weight="bold">ไม่ผ่าน</text>
                `;
            }
        }

        function restartQuiz() {
            // Reset variables
            currentQuestion = 0;
            score = 0;
            
            // Reset display
            scoreElement.textContent = score;
            
            // Show registration form
            resultsSection.classList.add('hidden');
            registrationSection.classList.remove('hidden');
            
            // Clear form fields
            document.getElementById('fullname').value = '';
            document.getElementById('classroom').value = '';
            document.getElementById('number').value = '';
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93a58d34377dd335',t:'MTc0NjMzNjA1NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>